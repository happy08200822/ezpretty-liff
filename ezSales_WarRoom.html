<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ğŸ¯ ezPretty æ¥­å‹™ç«¶æŠ€å ´</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <style>
    [v-cloak] { display: none !important; }
    body { font-family: 'PingFang TC', sans-serif; background-color: #f8f9fc; -webkit-tap-highlight-color: transparent; }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    
    /* è·‘é¦¬ç‡ˆå‹•ç•« */
    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    .animate-marquee {
      display: inline-flex;
      animation: marquee 25s linear infinite;
    }
    .active-tab { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); transform: translateY(-2px); }
  </style>
</head>
<body class="pb-10">
  <div id="app" v-cloak class="w-full max-w-4xl mx-auto px-4 pt-6">

    <div class="flex items-center justify-between mb-4 bg-white p-1.5 rounded-2xl shadow-sm border border-gray-100">
      <button v-for="rep in ['All', 'Kelvin', 'David']" :key="rep" @click="setRep(rep)"
        :class="['flex-1 py-2.5 rounded-xl text-xs font-black transition-all', currentRep === rep ? 'bg-gray-800 text-white shadow-md' : 'text-gray-400']">
        [[ rep === 'All' ? 'ğŸŒ å…¨é«”æˆ°æ³' : rep ]]
      </button>
    </div>

    <div class="mb-6 overflow-hidden bg-gray-900 rounded-2xl py-3 shadow-lg relative flex items-center border-b-2 border-yellow-500">
      <div class="pl-4 pr-3 border-r border-gray-700 z-10 bg-gray-900 flex items-center">
        <span class="flex h-1.5 w-1.5 rounded-full bg-red-500 animate-pulse mr-2"></span>
        <span class="text-[9px] font-black text-gray-400 tracking-tighter uppercase">Live</span>
      </div>
      
      <div class="whitespace-nowrap flex items-center animate-marquee">
        <div class="flex items-center" v-for="n in 2" :key="n">
            <span class="text-[11px] font-bold text-white px-4 flex items-center gap-2">
              ğŸš€ <span class="text-blue-400">ä»Šæ—¥å±•ç¤ºï¼š</span> [[ getTodaySchedule() ]]
            </span>
            <span class="text-gray-700">|</span>
            <span class="text-[11px] font-bold text-white px-4 flex items-center gap-2">
              ğŸ”¥ <span class="text-red-400">æ”¶å–®æé†’ï¼š</span> æ„é¡˜é«˜åå–®å»ºè­°ä»Šæ—¥å›è¨ªï¼Œä¿æŒç†±åº¦ï¼
            </span>
            <span class="text-gray-700">|</span>
            <span class="text-[11px] font-bold text-white px-4 flex items-center gap-2">
              ğŸ† <span class="text-yellow-400">æˆ°è¨Šï¼š</span> [[ getTeamUpdate() ]]
            </span>
            <span class="text-gray-700">|</span>
        </div>
      </div>
    </div>

    <div class="flex overflow-x-auto gap-3 no-scrollbar mb-6 pb-2">
      <button v-for="tab in tabs" :key="tab.id" @click="currentTab = tab.id"
        :class="['flex-none w-24 h-24 flex flex-col items-center justify-center rounded-3xl border transition-all', currentTab === tab.id ? tab.activeClass + ' active-tab border-transparent text-white' : 'bg-white text-gray-400 border-gray-100 shadow-sm']">
        <span class="text-2xl mb-1">[[ tab.icon ]]</span>
        <span class="text-[11px] font-black">[[ tab.label ]]</span>
        <span class="text-[10px] mt-1 font-bold opacity-60">[[ getTabCount(tab.id) ]]</span>
      </button>
    </div>

    <div class="flex gap-2 mb-6">
      <div class="relative flex-1">
        <input v-model="searchQuery" type="text" placeholder="å¿«é€Ÿæœå°‹åº—åæˆ–åœ°å€..." 
          class="w-full bg-white border-none ring-1 ring-gray-200 rounded-2xl py-3.5 px-4 text-sm font-bold focus:ring-2 focus:ring-gray-800 outline-none shadow-sm">
      </div>
      <button @click="toggleSort" class="bg-white ring-1 ring-gray-200 px-4 rounded-2xl flex items-center justify-center active:bg-gray-50 shadow-sm">
        <span class="text-sm font-black text-gray-700">[[ sortOrder === 'desc' ? 'æœ€æ–° â†“' : 'èˆŠå–® â†‘' ]]</span>
      </button>
    </div>

    <transition-group name="fade" tag="div" class="grid grid-cols-1 gap-4">
      <div v-for="item in processedData" :key="item.id" class="bg-white rounded-[2.5rem] shadow-sm border border-gray-100 p-6 relative overflow-hidden">
        
        <div class="absolute top-6 right-6 flex flex-col items-end gap-1">
          <span :class="['text-[9px] font-black px-2 py-0.5 rounded-full', item.owner === 'Kelvin' ? 'bg-blue-100 text-blue-600' : 'bg-emerald-100 text-emerald-600']">[[ item.owner ]]</span>
          <span :class="['text-[9px] font-black px-2 py-0.5 rounded-lg border', getStatusBadge(item.status)]">[[ item.status ]]</span>
        </div>

        <div class="mb-4">
          <h2 class="text-xl font-black text-gray-800 leading-tight">[[ item.area ]] [[ item.storeName ]]</h2>
          <div class="flex gap-3 mt-2 text-xs font-bold text-gray-400">
            <span>ğŸ‘¤ [[ item.bossName ]]</span>
            <span>|</span>
            <a :href="'tel:' + item.phone" class="text-blue-500 font-black">ğŸ“ [[ item.phone ]]</a>
          </div>
        </div>

        <div v-if="item.status === 'å·²ç´„å±•'" class="bg-blue-50/50 border border-blue-100 rounded-2xl p-4 mb-4">
          <div class="flex items-center gap-3">
            <span class="text-xl">ğŸ—“ï¸</span>
            <div>
              <p class="text-[10px] font-black text-blue-400 tracking-widest uppercase">å±•ç¤ºè¡Œç¨‹</p>
              <p class="text-sm font-black text-blue-800">[[ item.demoTime ]] ([[ item.demoMethod ]])</p>
            </div>
          </div>
        </div>

        <div v-if="item.status.includes('æ„é¡˜')" class="bg-gray-50 border border-gray-100 rounded-2xl p-4 mb-4">
          <p class="text-[9px] font-black text-gray-400 mb-1 tracking-widest uppercase">æœ€æ–°é€²åº¦å‚™è¨»</p>
          <p class="text-xs font-bold text-gray-600 leading-relaxed">[[ item.note || 'å°šç„¡å‚™è¨»ï¼Œè«‹é»æ“Šæ›´æ–°...' ]]</p>
        </div>

        <div class="grid grid-cols-2 gap-2 mt-2">
          <button class="bg-gray-100 text-gray-600 font-black py-3.5 rounded-2xl text-[11px] active:bg-gray-200 transition">ğŸ’¬ LINE è¯ç¹«</button>
          
          <button v-if="item.status === 'å·²æ‹‰ç¾¤'" class="bg-amber-500 text-white font-black py-3.5 rounded-2xl text-[11px] shadow-lg shadow-amber-100 active:scale-95 transition">ğŸ“… ç´„å±•æ™‚é–“</button>
          <button v-if="item.status === 'å·²ç´„å±•'" class="bg-green-600 text-white font-black py-3.5 rounded-2xl text-[11px] shadow-lg shadow-green-100 active:scale-95 transition">âœ… å±•ç¤ºå®Œå›å ±</button>
          <button v-if="item.status.includes('æ„é¡˜')" class="bg-gray-800 text-white font-black py-3.5 rounded-2xl text-[11px] shadow-lg shadow-gray-200 active:scale-95 transition">ğŸ“ æ›´æ–°é€²åº¦</button>
          <button v-if="item.status === 'æ‹’çµ•'" class="bg-gray-300 text-white font-black py-3.5 rounded-2xl text-[11px]">ğŸ’€ çµæ¡ˆ</button>
        </div>
      </div>
    </transition-group>

    <div v-if="processedData.length === 0" class="text-center py-20">
      <p class="text-gray-300 font-black text-sm tracking-[0.3em] uppercase">No Clients Found</p>
    </div>

  </div>

  <script>
    const { createApp } = Vue;
    createApp({
      delimiters: ['[[', ']]'],
      data() {
        return {
          currentRep: 'All',
          currentTab: 'å·²æ‹‰ç¾¤',
          searchQuery: '',
          sortOrder: 'desc',
          tabs: [
            { id: 'å·²æ‹‰ç¾¤', icon: 'ğŸ†•', label: 'å¾…ç´„å±•', activeClass: 'bg-amber-500' },
            { id: 'å·²ç´„å±•', icon: 'ğŸ—“ï¸', label: 'å¾…å±•ç¤º', activeClass: 'bg-blue-600' },
            { id: 'æ„é¡˜é«˜', icon: 'ğŸ”¥', label: 'æ„é¡˜é«˜', activeClass: 'bg-red-500' },
            { id: 'æ„é¡˜ä¸­', icon: 'ğŸ¤”', label: 'æ„é¡˜ä¸­', activeClass: 'bg-orange-500' },
            { id: 'æ„é¡˜ä½', icon: 'ğŸ§Š', label: 'æ„é¡˜ä½', activeClass: 'bg-teal-600' },
            { id: 'æ‹’çµ•', icon: 'ğŸš«', label: 'æ‹’çµ•', activeClass: 'bg-gray-800' }
          ],
          salesData: [
            { id: 1, owner: 'Kelvin', status: 'å·²æ‹‰ç¾¤', area: 'å°ä¸­', storeName: 'ç¾ç·¹åœ‹éš›', bossName: 'è”¡è€é—†', phone: '0912-345-678', note: '', date: '2026-02-22' },
            { id: 2, owner: 'David', status: 'å·²ç´„å±•', area: 'å°åŒ—', storeName: 'æ˜Ÿè¾°é«®å»Š', bossName: 'é™³å°å§', phone: '0987-654-321', demoTime: '02/25 14:00', demoMethod: 'ç·šä¸Š', note: '', date: '2026-02-21' },
            { id: 3, owner: 'Kelvin', status: 'æ„é¡˜é«˜', area: 'é«˜é›„', storeName: 'è‰¾èŠ®çµ²ç¾å­¸', bossName: 'æ—ç¶“ç†', phone: '0922-333-444', note: 'è€é—†éå¸¸æ»¿æ„ç³»çµ±ä»‹é¢ï¼Œä¸‹é€±äº”å›è¨ªã€‚', date: '2026-02-20' }
          ]
        }
      },
      computed: {
        processedData() {
          let filtered = this.salesData;
          if (this.currentRep !== 'All') filtered = filtered.filter(i => i.owner === this.currentRep);
          filtered = filtered.filter(i => i.status === this.currentTab);
          if (this.searchQuery) {
            const s = this.searchQuery.toLowerCase();
            filtered = filtered.filter(i => i.storeName.includes(s) || i.area.includes(s) || i.bossName.includes(s));
          }
          return filtered.sort((a, b) => this.sortOrder === 'desc' ? b.id - a.id : a.id - b.id);
        }
      },
      mounted() {
        const lastRep = localStorage.getItem('lastRep_Arena');
        if (lastRep) this.currentRep = lastRep;
      },
      methods: {
        setRep(name) {
          this.currentRep = name;
          localStorage.setItem('lastRep_Arena', name);
        },
        toggleSort() { this.sortOrder = this.sortOrder === 'desc' ? 'asc' : 'desc'; },
        getTabCount(status) {
          let d = this.salesData;
          if (this.currentRep !== 'All') d = d.filter(i => i.owner === this.currentRep);
          return d.filter(i => i.status === status).length;
        },
        getStatusBadge(status) {
          const badges = { 'å·²æ‹‰ç¾¤': 'border-amber-200 text-amber-600', 'å·²ç´„å±•': 'border-blue-200 text-blue-600', 'æ„é¡˜é«˜': 'border-red-200 text-red-600', 'æ„é¡˜ä¸­': 'border-orange-200 text-orange-600', 'æ„é¡˜ä½': 'border-teal-200 text-teal-600', 'æ‹’çµ•': 'border-gray-200 text-gray-600' };
          return badges[status] || '';
        },
        getTodaySchedule() {
          const count = this.salesData.filter(i => i.status === 'å·²ç´„å±•').length;
          return count > 0 ? `å…± ${count} å ´é ç´„é€²è¡Œä¸­` : 'ä»Šæ—¥æš«ç„¡æ’å®šè¡Œç¨‹';
        },
        getTeamUpdate() {
          return `Kelvin èˆ‡ David æœ¬é€±å·²ç´¯ç©å±•ç¤º 12 å ´ï¼Œç¹¼çºŒè¡åˆºï¼`;
        }
      }
    }).mount('#app');
  </script>
</body>
</html>
