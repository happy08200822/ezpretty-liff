<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ğŸ¯ ezPretty æ¥­å‹™ç«¶æŠ€å ´ Pro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    [v-cloak] { display: none !important; }
    body { font-family: 'PingFang TC', sans-serif; background-color: #f8fafc; }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .glass-morphism { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); }
  </style>
</head>
<body class="pb-10">
  <div id="app" v-cloak class="w-full max-w-7xl mx-auto px-4 pt-6">
    
    <div class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-[2.5rem] p-6 mb-8 text-white shadow-2xl relative overflow-hidden">
      <div class="absolute top-0 right-0 opacity-10 text-9xl font-black italic">ARENA</div>
      <div class="flex justify-between items-center relative z-10">
        <div class="text-center flex-1">
          <div class="text-4xl mb-2">ğŸ‘¦ğŸ»</div>
          <p class="text-xs font-bold text-slate-400 uppercase tracking-widest">Kelvin</p>
          <p class="text-2xl font-black text-blue-400">[[ stats.kelvin.deals ]] <span class="text-[10px] text-white/50">æˆäº¤</span></p>
        </div>
        <div class="flex flex-col items-center px-4">
          <div class="bg-white/10 px-3 py-1 rounded-full text-[10px] font-black mb-2">VS</div>
          <div class="h-12 w-[1px] bg-white/20"></div>
        </div>
        <div class="text-center flex-1">
          <div class="text-4xl mb-2">ğŸ‘¨ğŸ»â€ğŸ’¼</div>
          <p class="text-xs font-bold text-slate-400 uppercase tracking-widest">David</p>
          <p class="text-2xl font-black text-emerald-400">[[ stats.david.deals ]] <span class="text-[10px] text-white/50">æˆäº¤</span></p>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
      <div class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100">
        <h3 class="text-sm font-black text-slate-800 mb-4 flex items-center gap-2">
          <span class="w-2 h-5 bg-indigo-500 rounded-full"></span> éŠ·å”®æ¼æ–—åˆ†ä½ˆ
        </h3>
        <div class="h-48 flex justify-center">
          <canvas id="funnelChart"></canvas>
        </div>
      </div>
      <div class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 flex flex-col justify-between">
        <h3 class="text-sm font-black text-slate-800 mb-4 flex items-center gap-2">
          <span class="w-2 h-5 bg-rose-500 rounded-full"></span> é—œéµè½‰æ›æŒ‡æ¨™ (æœ¬æœˆ)
        </h3>
        <div class="space-y-4">
          <div v-for="metric in metrics" :key="metric.label" class="flex items-center justify-between">
            <span class="text-xs font-bold text-slate-500">[[ metric.label ]]</span>
            <div class="flex items-center gap-3 flex-1 px-4">
              <div class="h-2 bg-slate-100 rounded-full flex-1 overflow-hidden">
                <div class="h-full bg-slate-800" :style="{ width: metric.value + '%' }"></div>
              </div>
              <span class="text-xs font-black text-slate-800">[[ metric.value ]]%</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="sticky top-4 z-50 glass-morphism border border-white shadow-xl rounded-3xl p-4 mb-8">
      <div class="flex flex-wrap gap-3">
        <select v-model="filter.owner" class="bg-slate-50 text-xs font-black p-3 rounded-2xl border-none ring-1 ring-slate-200 focus:ring-2 focus:ring-indigo-500">
          <option value="All">ğŸ† å…¨é«”æ¥­å‹™</option>
          <option value="Kelvin">ğŸ‘¦ğŸ» Kelvin</option>
          <option value="David">ğŸ‘¨ğŸ»â€ğŸ’¼ David</option>
        </select>
        
        <select v-model="filter.status" class="bg-slate-50 text-xs font-black p-3 rounded-2xl border-none ring-1 ring-slate-200">
          <option value="All">ğŸ¯ æ‰€æœ‰ç‹€æ…‹</option>
          <option v-for="tab in tabs" :key="tab.id" :value="tab.id">[[ tab.icon ]] [[ tab.label ]]</option>
        </select>

        <input v-model="filter.search" type="text" placeholder="ğŸ” æœå°‹åœ°å€æˆ–åº—å..." class="flex-1 bg-slate-50 text-xs font-black p-3 rounded-2xl border-none ring-1 ring-slate-200">

        <button @click="toggleSort" class="bg-slate-800 text-white px-4 rounded-2xl text-[10px] font-black uppercase tracking-widest active:scale-95 transition">
          æ’åºï¼š[[ sortLabel ]] [[ isSortDesc ? 'â†“' : 'â†‘' ]]
        </button>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div v-for="item in processedData" :key="item.id" class="bg-white rounded-[2rem] shadow-sm border border-slate-100 p-6 flex flex-col hover:shadow-xl transition-shadow duration-300">
        <div class="flex justify-between items-start mb-4">
          <h2 class="text-lg font-black text-slate-800">[[ item.area ]][[ item.storeName ]]</h2>
          <span :class="['text-[10px] font-black px-2 py-1 rounded-lg', getStatusClass(item.status)]">[[ item.status ]]</span>
        </div>
        <div class="flex gap-4 text-xs font-bold text-slate-500 mb-6">
          <span>ğŸ‘¤ [[ item.bossName ]]</span>
          <span>ğŸ“ [[ item.phone ]]</span>
        </div>
        <div class="mt-auto grid grid-cols-2 gap-3">
          <button class="bg-slate-100 text-slate-600 font-black py-3 rounded-xl text-[11px]">ğŸ’¬ è¯ç¹«</button>
          <button class="bg-indigo-600 text-white font-black py-3 rounded-xl text-[11px] shadow-lg shadow-indigo-100">æ›´æ–°é€²åº¦</button>
        </div>
      </div>
    </div>

  </div>

  <script>
    const { createApp } = Vue;
    createApp({
      delimiters: ['[[', ']]'],
      data() {
        return {
          filter: { owner: 'All', status: 'All', search: '' },
          sortBy: 'date', // 'date' or 'intent'
          isSortDesc: true,
          tabs: [
            { id: 'å·²æ‹‰ç¾¤', icon: 'ğŸ†•', label: 'å¾…ç´„å±•' },
            { id: 'å·²ç´„å±•', icon: 'ğŸ—“ï¸', label: 'å¾…å±•ç¤º' },
            { id: 'æ„é¡˜é«˜', icon: 'ğŸ”¥', label: 'æ„é¡˜é«˜' },
            { id: 'æ„é¡˜ä¸­', icon: 'ğŸ¤”', label: 'æ„é¡˜ä¸­' },
            { id: 'æ„é¡˜ä½', icon: 'ğŸ§Š', label: 'æ„é¡˜ä½' },
            { id: 'æ‹’çµ•', icon: 'ğŸš«', label: 'æ‹’çµ•' }
          ],
          stats: { kelvin: { deals: 12 }, david: { deals: 9 } },
          metrics: [
            { label: 'ç´„å±•è½‰åŒ–ç‡ (ç´„æˆ/æ´¾å–®)', value: 68 },
            { label: 'å±•ç¤ºæˆåŠŸç‡ (æ„é¡˜é«˜/å±•ç¤º)', value: 42 }
          ],
          salesData: [
            { id: 1, owner: 'Kelvin', status: 'æ„é¡˜é«˜', area: 'å°ä¸­', storeName: 'ç¾ç·¹ç¾é«®', bossName: 'è”¡è€é—†', phone: '0912-345-678', date: '2026-02-20' },
            { id: 2, owner: 'David', status: 'å·²ç´„å±•', area: 'å°åŒ—', storeName: 'æ˜Ÿè¾°é«®å»Š', bossName: 'é™³å°å§', phone: '0987-654-321', date: '2026-02-21' },
            // ... æ›´å¤šè³‡æ–™
          ]
        }
      },
      computed: {
        sortLabel() { return this.sortBy === 'date' ? 'æ™‚é–“' : 'æ„é¡˜'; },
        processedData() {
          let result = this.salesData;
          // ç¯©é¸æ¥­å‹™
          if (this.filter.owner !== 'All') result = result.filter(i => i.owner === this.filter.owner);
          // ç¯©é¸ç‹€æ…‹
          if (this.filter.status !== 'All') result = result.filter(i => i.status === this.filter.status);
          // æœå°‹
          if (this.filter.search) {
            const s = this.filter.search.toLowerCase();
            result = result.filter(i => i.storeName.includes(s) || i.area.includes(s));
          }
          // æ’åº
          result.sort((a, b) => {
            let valA = a.date;
            let valB = b.date;
            return this.isSortDesc ? (valB > valA ? 1 : -1) : (valA > valB ? 1 : -1);
          });
          return result;
        }
      },
      methods: {
        toggleSort() { this.isSortDesc = !this.isSortDesc; },
        getStatusClass(s) {
          if (s === 'æ„é¡˜é«˜') return 'bg-rose-100 text-rose-600';
          if (s === 'å·²ç´„å±•') return 'bg-blue-100 text-blue-600';
          return 'bg-slate-100 text-slate-600';
        }
      },
      mounted() {
        // åˆå§‹åŒ– Chart.js
        const ctx = document.getElementById('funnelChart').getContext('2d');
        new Chart(ctx, {
          type: 'doughnut',
          data: {
            labels: ['å¾…ç´„å±•', 'å¾…å±•ç¤º', 'æ„é¡˜é«˜', 'å…¶ä»–'],
            datasets: [{
              data: [15, 8, 5, 12],
              backgroundColor: ['#f59e0b', '#3b82f6', '#f43f5e', '#e2e8f0'],
              borderWidth: 0,
              hoverOffset: 10
            }]
          },
          options: { plugins: { legend: { position: 'bottom', labels: { boxWidth: 10, font: { size: 10, weight: 'bold' } } } } }
        });
      }
    }).mount('#app');
  </script>
</body>
</html>
